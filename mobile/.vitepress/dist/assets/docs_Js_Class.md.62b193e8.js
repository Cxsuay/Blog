import{_ as n,c as s,o as a,a as t}from"./app.9a3fef87.js";const p='{"title":"Js - Class","description":"","frontmatter":{},"headers":[{"level":2,"title":"ç±»çš„ä¸¤ç§å£°æ˜å½¢å¼","slug":"ç±»çš„ä¸¤ç§å£°æ˜å½¢å¼"},{"level":2,"title":"ç±»å†…éƒ¨çš„å·¥ä½œæœºåˆ¶å…¶å®å°±æ˜¯åŸå‹æ“ä½œ","slug":"ç±»å†…éƒ¨çš„å·¥ä½œæœºåˆ¶å…¶å®å°±æ˜¯åŸå‹æ“ä½œ"},{"level":2,"title":"å¯¹è±¡å±æ€§çš„å£°æ˜","slug":"å¯¹è±¡å±æ€§çš„å£°æ˜"},{"level":2,"title":"class å£°æ˜çš„æ–¹æ³• ä¸ºä»€ä¹ˆä¸èƒ½éå†","slug":"class-å£°æ˜çš„æ–¹æ³•-ä¸ºä»€ä¹ˆä¸èƒ½éå†"},{"level":2,"title":"é™æ€å±æ€§ å’Œ é™æ€æ–¹æ³•çš„ä½¿ç”¨","slug":"é™æ€å±æ€§-å’Œ-é™æ€æ–¹æ³•çš„ä½¿ç”¨"},{"level":2,"title":"è®¿é—®å™¨","slug":"è®¿é—®å™¨"},{"level":3,"title":"ä½¿ç”¨å‘½åè§„åˆ™æ¥ä¿æŠ¤å±æ€§","slug":"ä½¿ç”¨å‘½åè§„åˆ™æ¥ä¿æŠ¤å±æ€§"},{"level":3,"title":"ä½¿ç”¨ Symbol æ¥å®šä¹‰ protected(ä¿æŠ¤) å±æ€§","slug":"ä½¿ç”¨-symbol-æ¥å®šä¹‰-protected-ä¿æŠ¤-å±æ€§"},{"level":3,"title":"ä½¿ç”¨ weakMap ä¿æŠ¤å±æ€§","slug":"ä½¿ç”¨-weakmap-ä¿æŠ¤å±æ€§"},{"level":3,"title":"private ç§æœ‰å±æ€§ä½¿ç”¨","slug":"private-ç§æœ‰å±æ€§ä½¿ç”¨"},{"level":2,"title":"class å±æ€§ç»§æ‰¿åŸç†","slug":"class-å±æ€§ç»§æ‰¿åŸç†"},{"level":2,"title":"super å…³é”®å­—çš„åŸç†","slug":"super-å…³é”®å­—çš„åŸç†"},{"level":2,"title":"ä¸ºä»€ä¹ˆå­ç±» constructor ä¸­ä¼šæ‰§è¡Œ super ï¼›","slug":"ä¸ºä»€ä¹ˆå­ç±»-constructor-ä¸­ä¼šæ‰§è¡Œ-super-ï¼›"},{"level":2,"title":"super æ€»ä¹‹å°±æ˜¯åŸå‹é“¾çš„æ”€å‡","slug":"super-æ€»ä¹‹å°±æ˜¯åŸå‹é“¾çš„æ”€å‡"},{"level":2,"title":"æ–¹æ³•çš„é‡å†™","slug":"æ–¹æ³•çš„é‡å†™"},{"level":2,"title":"é™æ€ç»§æ‰¿çš„åŸç†","slug":"é™æ€ç»§æ‰¿çš„åŸç†"},{"level":2,"title":"ä½¿ç”¨ instanceof æ£€æµ‹å¯¹è±¡å®ç° - å¯¹è±¡ ä¸ æ„é€ å‡½æ•°","slug":"ä½¿ç”¨-instanceof-æ£€æµ‹å¯¹è±¡å®ç°-å¯¹è±¡-ä¸-æ„é€ å‡½æ•°"},{"level":2,"title":"isPrototypeOf æ£€æµ‹ç»§æ‰¿å…³ç³»  - å¯¹è±¡ä¸å¯¹è±¡çš„å…³ç³»","slug":"isprototypeof-æ£€æµ‹ç»§æ‰¿å…³ç³»-å¯¹è±¡ä¸å¯¹è±¡çš„å…³ç³»"},{"level":2,"title":"å†…ç½®ç±»ç»§æ‰¿çš„åŸå‹å®ç°","slug":"å†…ç½®ç±»ç»§æ‰¿çš„åŸå‹å®ç°"},{"level":2,"title":"mixin æ··åˆæ¨¡å¼ä½¿ç”¨æŠ€å·§","slug":"mixin-æ··åˆæ¨¡å¼ä½¿ç”¨æŠ€å·§"}],"relativePath":"docs/Js/Class.md","lastUpdated":1632732114000}',o={},c=[t('<h1 id="js-class" tabindex="-1">Js - Class <a class="header-anchor" href="#js-class" aria-hidden="true">#</a></h1><h2 id="ç±»çš„ä¸¤ç§å£°æ˜å½¢å¼" tabindex="-1">ç±»çš„ä¸¤ç§å£°æ˜å½¢å¼ <a class="header-anchor" href="#ç±»çš„ä¸¤ç§å£°æ˜å½¢å¼" aria-hidden="true">#</a></h2><div class="language-js"><pre><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token comment">// æ–¹æ³•ä¹‹é—´æ˜¯ä¸éœ€è¦åŠ é€—å·çš„ å“ˆå“ˆå“ˆ</span>\n  <span class="token comment">// å£°æ˜æ–¹æ³• æœ€å¥½ä½¿ç”¨è¿™ç§æ–¹æ³•å£°æ˜  function å’Œ ()=&gt; ä¸æ¨èä½¿ç”¨</span>\n  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token comment">// typeof User // function</span>\n<span class="token keyword">let</span> gl <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// è¿™æ ·ä¹Ÿæ˜¯å¯ä»¥ å£°æ˜çš„</span>\n<span class="token comment">// --- ä¸‹é¢çš„æ˜¯å‡½æ•°å½¢å¼ ---</span>\n<span class="token keyword">function</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">(</span><span class="token string">&#39;å°é»„&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><h2 id="ç±»å†…éƒ¨çš„å·¥ä½œæœºåˆ¶å…¶å®å°±æ˜¯åŸå‹æ“ä½œ" tabindex="-1">ç±»å†…éƒ¨çš„å·¥ä½œæœºåˆ¶å…¶å®å°±æ˜¯åŸå‹æ“ä½œ <a class="header-anchor" href="#ç±»å†…éƒ¨çš„å·¥ä½œæœºåˆ¶å…¶å®å°±æ˜¯åŸå‹æ“ä½œ" aria-hidden="true">#</a></h2><ul><li>ç±»å…¶å®å°±æ˜¯ <code>æ„é€ å‡½æ•°</code> çš„ä¸€ä¸ªè¯­æ³•ç³–ç»“æ„</li></ul><div class="language-js"><pre><code>  <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>\n    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token comment">// ä¸ºå¯¹è±¡åšå±æ€§åˆå§‹å€¼</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// æ‰“å°å‘ç°  è¿™ä¸ªæ–¹æ³•å·²ç»è‡ªåŠ¨æ”¾ç½®åœ¨ åŸæƒ³prototype ä¸Šé¢å»äº†</span>\n  <span class="token punctuation">}</span>\n  User <span class="token operator">===</span> <span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor<span class="token punctuation">;</span> <span class="token comment">// true</span>\n  <span class="token keyword">const</span> u <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token comment">// Object.getOwnPropertynames æ–¹æ³•è¿”å›ä¸€ä¸ªç”± æŒ‡å®šå¯¹è±¡çš„æ‰€æœ‰è‡ªèº«å±æ€§çš„å±æ€§å</span>\n  <span class="token comment">// åŒ…æ‹¬ ä¸å¯æšä¸¾</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertynames</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;name&#39;];</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertynames</span><span class="token punctuation">(</span>User<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;constructor&#39;, &#39;show&#39;];</span>\n  <span class="token comment">// --- ä¸‹é¢çš„æ˜¯å‡½æ•°å½¢å¼ ---</span>\n  <span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// å’Œä¸Šé¢çš„ constructor ä¸€æ · ä¸ºæ¯ä¸ªå¯¹è±¡ç‹¬ç«‹å­˜æ”¾å±æ€§çš„ - åˆå§‹åŒ–</span>\n    <span class="token comment">// ä¿è¯ æ¯ä¸ªå®ä¾‹å¯¹è±¡çš„å±æ€§éƒ½æ˜¯ç‹¬æœ‰çš„ æ–¹æ³•å†™åœ¨åŸå‹ä¸Šæ˜¯ä¸ºäº†ä¿è¯å®ä¾‹å¯¹è±¡æ–¹æ³•å…±ç”¨</span>\n    <span class="token comment">// å¹¶ä¸” prototype ä¸€ä¸ªå¯¹è±¡å®šä¹‰ æ‰€æœ‰å®ä¾‹å…±ç”¨ ä¸è¿‡å¤šæ¶ˆè€—å†…å­˜ </span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n  User <span class="token operator">===</span> <span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token comment">// true</span>\n</code></pre></div><h2 id="å¯¹è±¡å±æ€§çš„å£°æ˜" tabindex="-1">å¯¹è±¡å±æ€§çš„å£°æ˜ <a class="header-anchor" href="#å¯¹è±¡å±æ€§çš„å£°æ˜" aria-hidden="true">#</a></h2><div class="language-js"><pre><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>\n  <span class="token comment">// âš ï¸æ³¨æ„ è¿™æ˜¯å¯¹è±¡å±æ€§çš„å£°æ˜</span>\n  site <span class="token operator">=</span> <span class="token string">&#39;ç«™ç‚¹i&#39;</span> <span class="token comment">// è¿™æ ·ä¹Ÿå¯ä»¥å£°æ˜ å¯ä»¥ä¿®æ”¹ ğŸ‘‡changeSite</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token function">changeSite</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>site <span class="token operator">=</span> value<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">let</span> gl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&#39;éƒ­éœ–&#39;</span><span class="token punctuation">)</span>\ngl<span class="token punctuation">.</span><span class="token function">changeSite</span><span class="token punctuation">(</span><span class="token string">&#39;123&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// User {site: &quot;123&quot;, name: &quot;éƒ­éœ–&quot;}</span>\ngl<span class="token punctuation">.</span>site <span class="token operator">=</span> <span class="token string">&#39;aaa&#39;</span><span class="token punctuation">;</span> <span class="token comment">// User {site: &quot;aaa&quot;, name: &quot;éƒ­éœ–&quot;}</span>\n</code></pre></div><h2 id="class-å£°æ˜çš„æ–¹æ³•-ä¸ºä»€ä¹ˆä¸èƒ½éå†" tabindex="-1">class å£°æ˜çš„æ–¹æ³• ä¸ºä»€ä¹ˆä¸èƒ½éå† <a class="header-anchor" href="#class-å£°æ˜çš„æ–¹æ³•-ä¸ºä»€ä¹ˆä¸èƒ½éå†" aria-hidden="true">#</a></h2><ul><li><p>æ·»åŠ åˆ°å‡½æ•°åŸå‹åˆ°æ–¹æ³• (User.prototype.show = function() {}) å¦‚æœæ²¡æœ‰è®¾ç½®å…·ä½“ç‰¹å¾(æšä¸¾)çš„æ—¶å€™æ˜¯å¯ä»¥ <code>in</code> éå†å‡ºæ¥çš„</p></li><li><p>å¦‚æœæŒ‡å‘å½“å‰éå†çš„ é‚£å°±æ˜¯ Object.hasOwnProperty(key);</p></li><li><p>ä½¿ç”¨<strong>ç±»</strong>çš„æ—¶å€™ ä¼šè‡ªåŠ¨æ·»åŠ  ä¸å¯æšä¸¾çš„ ç‰¹æ€§ã€‚</p><p>âš ï¸ æ¨èä½¿ç”¨ ä¸¥æ ¼æ¨¡å¼ä¸‹ ç¼–å†™ä»£ç  <code>class</code> ç¼–å†™ä»£ç  é»˜è®¤å°±æ˜¯ ä¸¥æ ¼æ¨¡å¼</p></li></ul><h2 id="é™æ€å±æ€§-å’Œ-é™æ€æ–¹æ³•çš„ä½¿ç”¨" tabindex="-1">é™æ€å±æ€§ å’Œ é™æ€æ–¹æ³•çš„ä½¿ç”¨ <a class="header-anchor" href="#é™æ€å±æ€§-å’Œ-é™æ€æ–¹æ³•çš„ä½¿ç”¨" aria-hidden="true">#</a></h2><ul><li>é™æ€å±æ€§</li></ul><div class="language-js"><pre><code>  <span class="token keyword">function</span> <span class="token function">Web</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// è¿™ä¸ªæ˜¯ æ„é€ å‡½æ•° ç”Ÿæˆå¯¹è±¡çš„ç‹¬æœ‰å±æ€§</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>url <span class="token operator">=</span> url<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token comment">// å› ä¸ºå‡½æ•°æ˜¯å¯¹è±¡ æ‰€ä»¥å¯ä»¥ç‚¹å±æ€§ åˆ†é…ç»™æ„é€ å‡½æ•°ç‚¹å±æ€§ ç§°ä¸ºé™æ€å±æ€§</span>\n  Web<span class="token punctuation">.</span>url <span class="token operator">=</span> <span class="token string">&#39;123&#39;</span> <span class="token comment">// è¿™ä¸ªæ˜¯å‡½æ•°å¯¹è±¡ç‚¹ æ˜¯å‡½æ•°ç‹¬æœ‰çš„å±æ€§ åªå±äºå‡½æ•° é™æ€å±æ€§çš„ä½¿ç”¨</span>\n  <span class="token keyword">let</span> w <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Web</span><span class="token punctuation">(</span><span class="token string">&#39;333&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token comment">// --- ä¸‹é¢çš„æ˜¯classå½¢å¼ ---</span>\n\n  <span class="token keyword">class</span> <span class="token class-name">Web</span> <span class="token punctuation">{</span>\n    url <span class="token operator">=</span> <span class="token string">&#39;123&#39;</span> <span class="token comment">// è¿™ä¸ªæ˜¯ å®ä¾‹å±æ€§</span>\n    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span> <span class="token comment">// è¿™ä¸ªä¹Ÿæ˜¯ å®åŠ›å±æ€§ ä¸€èˆ¬ è¿™æ ·å®šä¹‰çš„æ¯”è¾ƒå¤š</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">static</span> url <span class="token operator">=</span> <span class="token string">&#39;222&#39;</span> <span class="token comment">// è¿™ä¸ªæ˜¯ ç±»ç‹¬æœ‰çš„ é™æ€å±æ€§ äº†</span>\n    <span class="token comment">// Web.url è¿™ä¸ªè®¿é—®é™æ€å±æ€§çš„æ–¹å¼</span>\n    <span class="token comment">// è¿™ä¸ª å±æ€§æ˜¯æ‰€æœ‰å¯¹è±¡ å…±ç”¨çš„ é‚£å°±å¯ä»¥å®šä¹‰æˆ é™æ€å±æ€§ å› ä¸ºåªä¿å­˜ä¸€ä»½ ä¿å­˜åœ¨ ç±» å½“ä¸­</span>\n  <span class="token punctuation">}</span>\n</code></pre></div><ul><li>é™æ€æ–¹æ³•</li></ul><div class="language-js"><pre><code>  <span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// å…¶å® åŠ¨æ€æ–¹æ³• ä¹Ÿæ˜¯ this.show = function() {} ä½†è¿™æ ·å°±æ¯ä¸ªå¯¹è±¡éƒ½åˆ›å»ºäº†</span>\n  <span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// åŸå…ˆçš„åŠ¨æ€æ–¹æ³• - è¿™æ ·ä¹Ÿæ˜¯ä¿å­˜äº†ä¸€ä»½ å®šä¹‰åˆ° prototype ä¸Šäº†</span>\n  User<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// å› ä¸ºå‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ è¿™æ ·å®šä¹‰å‡½æ•°çš„æ–¹æ³•å°±æ˜¯é™æ€æ–¹æ³•</span>\n  User<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> User<span class="token punctuation">)</span>\n  <span class="token punctuation">}</span> <span class="token comment">// è¿™æ ·this ä¹Ÿæ˜¯User</span>\n\n  <span class="token comment">// --- ä¸‹é¢çš„æ˜¯classå½¢å¼ ---</span>\n\n  <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>\n    <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;åŠ¨æ€æ–¹æ³•&#39;</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">static</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;é™æ€æ–¹æ³•&#39;</span><span class="token punctuation">)</span> <span class="token comment">// æ¨èè¿™æ · ä½¿ç”¨ç±» å°±æ˜¯ä¸ºäº†æ›´ä¾¿æ·å’Œå¥½è¯†åˆ«</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n  User<span class="token punctuation">.</span>__proto<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;é™æ€æ–¹æ³•&#39;</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span> <span class="token comment">// è¿™æ ·ä¸æ¨è</span>\n</code></pre></div><div class="language-js"><pre><code>  <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>\n    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">static</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// å±•å¼€è¯­æ³• å¯ä»¥æ¥å— ä¸å®šæ•°é‡çš„å‚æ•°</span>\n      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">this</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token comment">// new this æ˜¯å› ä¸º this å°±æ˜¯å£°æ˜ å½“å‰çš„ ç±»</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">let</span> gl <span class="token operator">=</span> User<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">&#39;éƒ­éœ–&#39;</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é™æ€æ–¹æ³•çš„è°ƒç”¨</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>gl<span class="token punctuation">)</span> <span class="token comment">// User {name: &quot;éƒ­éœ–&quot;} </span>\n</code></pre></div><ul><li>é™æ€å±æ€§ - æ–¹æ³• ï¼ˆ<strong>ç»ƒä¹ </strong>ï¼‰</li></ul><div class="language-js"><pre><code>  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>\n      name<span class="token operator">:</span> <span class="token string">&#39;js&#39;</span><span class="token punctuation">,</span>\n      price<span class="token operator">:</span> <span class="token number">87</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">{</span>\n      name<span class="token operator">:</span> <span class="token string">&#39;css&#39;</span><span class="token punctuation">,</span>\n      price<span class="token operator">:</span> <span class="token number">98</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token keyword">class</span> <span class="token class-name">Lesson</span> <span class="token punctuation">{</span>\n    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>model <span class="token operator">=</span> data<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token function">price</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span>price\n    <span class="token punctuation">}</span>\n    <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span>name\n    <span class="token punctuation">}</span>\n    <span class="token comment">// æˆ–è€…ä¹Ÿå¯ä»¥è¿™æ ·å†™ æ”¹æˆå±æ€§çš„æ–¹å¼</span>\n    <span class="token keyword">get</span> <span class="token function">nama1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>model<span class="token punctuation">.</span>name\n    <span class="token punctuation">}</span>\n    <span class="token comment">// é™æ€æ–¹æ³• å°±æ˜¯æˆ‘ä»¬ä¸æ˜¯å¯¹ å•ä¸ªå¯¹è±¡è¿›è¡Œç®¡ç†çš„ è¿™æ ·ä½¿ç”¨é™æ€æ–¹æ³•å°±æ¯”è¾ƒäº†</span>\n    <span class="token keyword">static</span> <span class="token function">createBatch</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Lesson</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// éå† ç„¶åè¿”å› å®ä¾‹</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">static</span> <span class="token function">maxPrice</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> b<span class="token punctuation">.</span><span class="token function">price</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> a<span class="token punctuation">.</span><span class="token function">price</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment">// a.price() æ˜¯å¯ä»¥è°ƒç”¨ å®ä¾‹æ–¹æ³•çš„</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">static</span> <span class="token function">totalPrice</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// å¦‚æœä¸æ˜¯å¯¹å•ä¸ªå¯¹è±¡æ“ä½œçš„ å°±å¯ä»¥ä½¿ç”¨é™æ€æ–¹æ³•</span>\n      <span class="token keyword">return</span> data<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">t<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> t <span class="token operator">+</span> c<span class="token punctuation">.</span><span class="token function">price</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">let</span> obj1 <span class="token operator">=</span> mew <span class="token function">Lesson</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">let</span> Lessons <span class="token operator">=</span> Lesson<span class="token punctuation">.</span><span class="token function">createBatch</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¯¾ç¨‹çš„é›†åˆ</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Lessons&#39;</span><span class="token punctuation">,</span> Lessons<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Lesson<span class="token punctuation">.</span><span class="token function">maxPrice</span><span class="token punctuation">(</span>Lessons<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// js è¿™æ ·æ˜¯å¯ä»¥è°ƒç”¨çš„ å› ä¸ºä¹Ÿæ˜¯å¯¹è±¡çš„æ–¹æ³• this.name()</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Lesson<span class="token punctuation">.</span><span class="token function">maxPrice</span><span class="token punctuation">(</span>Lessons<span class="token punctuation">)</span><span class="token punctuation">.</span>name1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// js å¦‚æœæ”¹æˆè®¿é—®å™¨çš„åå­— å°±å¯ä»¥ä¸éœ€è¦å†™æ‹¬å·äº† æœ¬è´¨ä¸Šå½“ä½œå±æ€§è®¿é—®</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Lesson<span class="token punctuation">.</span><span class="token function">totalPrice</span><span class="token punctuation">(</span>Lessons<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// FIXME:  å¦‚æœæ˜¯å¯¹å•ä¸ªå¯¹è±¡æ“ä½œçš„è¯ å°±ä¸èƒ½ä½¿ç”¨é™æ€æ–¹æ³•äº†</span>\n</code></pre></div><h2 id="è®¿é—®å™¨" tabindex="-1">è®¿é—®å™¨ <a class="header-anchor" href="#è®¿é—®å™¨" aria-hidden="true">#</a></h2><ul><li><p>æœ‰æ—¶å€™æˆ‘ä»¬ç›´æ¥ä¿®æ”¹å±æ€§ å¯èƒ½ä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ è¿™ä¸ªæ—¶å€™æˆ‘ä¹ˆå¯ä»¥ä½¿ç”¨è®¿é—®å™¨æ¥è®¿é—®</p></li><li><p>getters setters å¯¹å±æ€§çš„è®¾ç½®å’Œè·å– éƒ½æ˜¯ä½¿ç”¨å‡½æ•°æ¥è¿›è¡Œæ“ä½œçš„</p></li></ul><div class="language-js"><pre><code>  <span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>\n    <span class="token function">constuctor</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>_host <span class="token operator">=</span> url<span class="token punctuation">;</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">{</span>\n        url\n      <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">set</span> <span class="token function">host</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token comment">// if (...) { ... }</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>host <span class="token operator">=</span> url<span class="token punctuation">;</span> <span class="token comment">// è¿™æ ·å°±é€ æˆæ­»å¾ªç¯äº† å› ä¸ºæˆ‘ä»¬æœ‰è®¾ç½®äº†</span>\n      <span class="token comment">// è§£å†³åŠæ³• - è¿™ä¸¤ç§æ–¹æ³• éƒ½æ˜¯å¯ä»¥çš„</span>\n      <span class="token comment">// æˆ‘ä»¬ å¯ä»¥åŠ ä¸€ä¸ªå˜é‡ç¬¦å·_ è¡¨ç¤ºç§æœ‰å˜é‡ï¼ˆå—ä¿æŠ¤ï¼‰ æˆ–è€… ç”¨ä¸€ä¸ªå¯¹è±¡åŒ…è£¹</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>_host <span class="token operator">=</span> url<span class="token punctuation">;</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>url <span class="token operator">=</span> url<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">get</span> <span class="token function">host</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_host<span class="token punctuation">;</span>\n      rertun <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>url<span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token comment">// è®¿é—®å™¨ å…¶å®å°±æ˜¯ æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰éªŒè¯çš„ ä¿æŠ¤æªæ–½æˆ–è€…éªŒè¯æªæ–½</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token keyword">let</span> aa <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token string">&#39;123&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  aa<span class="token punctuation">.</span>host <span class="token operator">=</span> <span class="token number">222</span><span class="token punctuation">;</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aa<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aa<span class="token punctuation">.</span>host<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><h3 id="ä½¿ç”¨å‘½åè§„åˆ™æ¥ä¿æŠ¤å±æ€§" tabindex="-1">ä½¿ç”¨å‘½åè§„åˆ™æ¥ä¿æŠ¤å±æ€§ <a class="header-anchor" href="#ä½¿ç”¨å‘½åè§„åˆ™æ¥ä¿æŠ¤å±æ€§" aria-hidden="true">#</a></h3><ul><li><p>ä¸ªäººç†è§£ é«˜å†…èš å’Œ ä½è€¦åˆ</p><p>é«˜å†…èš å°±æ˜¯ æˆ‘ä»¬æš´æ¼å‡ºå‡ ä¸ªé…ç½® ä½†æ˜¯å…·ä½“æ€ä¹ˆå®ç° æˆ‘ä»¬ä¸å‘Šè¯‰</p><p>ä½è€¦åˆ å°±æ˜¯ æˆ‘ä»¬å°½å¯èƒ½çš„ è®©æ¯ä¸ªæ¨¡å— å„å¸å…¶èŒ ä¸æä¸²è”</p></li></ul><div class="language-js"><pre><code>  \t<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>\n  \t  _url <span class="token operator">=</span> <span class="token string">&#39;https://www.baidu.com&#39;</span>\n  \t  <span class="token keyword">set</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  \t    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^https?:</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  \t      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;ç½‘å€ä¸ç¬¦åˆè§„èŒƒ&#39;</span><span class="token punctuation">)</span>\n  \t    <span class="token punctuation">}</span>\n  \t    <span class="token keyword">this</span><span class="token punctuation">.</span>_url <span class="token operator">=</span> url<span class="token punctuation">;</span>\n  \t  <span class="token punctuation">}</span>\n  \t<span class="token punctuation">}</span>\n  \t<span class="token keyword">let</span> bb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  \tbb<span class="token punctuation">.</span>url <span class="token operator">=</span> <span class="token string">&#39;wangyi.com&#39;</span> <span class="token comment">// âŒ Uncaught Error: ç½‘å€ä¸ç¬¦åˆè§„èŒƒ </span>\n  \tbb<span class="token punctuation">.</span>url <span class="token operator">=</span> <span class="token string">&#39;https://wangyi.com&#39;</span> <span class="token comment">// âœ… B {_url: &quot;https://wangyi.com&quot;}</span>\n</code></pre></div><h3 id="ä½¿ç”¨-symbol-æ¥å®šä¹‰-protected-ä¿æŠ¤-å±æ€§" tabindex="-1">ä½¿ç”¨ <code>Symbol</code> æ¥å®šä¹‰ protected(ä¿æŠ¤) å±æ€§ <a class="header-anchor" href="#ä½¿ç”¨-symbol-æ¥å®šä¹‰-protected-ä¿æŠ¤-å±æ€§" aria-hidden="true">#</a></h3><ul><li>å”¯ä¸€å€¼ å—ä¿æŠ¤çš„å±æ€§ ä¸è®©å‘—è®¾ç½®çš„å±æ€§ å¯ä»¥ä½¿ç”¨ Symbol</li></ul><div class="language-js"><pre><code>\t\t<span class="token keyword">const</span> <span class="token constant">HOST</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t<span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token punctuation">{</span>\n\t\t  <span class="token comment">// è¿™æ ·å°± ç›¸å½“äº æˆ‘ä»¬å¯¹è±¡çš„å±æ€§ ä½†æ˜¯æˆ‘ä»¬æƒ³è¦ä½¿ç”¨çš„ Symbol çš„å€¼</span>\n\t\t  <span class="token comment">// HOST = &#39;123&#39; // âŒ</span>\n\t\t  <span class="token comment">// éœ€è¦è¿™æ ·å®šä¹‰çš„ Symbolå€¼ æ˜¯å”¯ä¸€çš„</span>\n\t\t  <span class="token punctuation">[</span><span class="token constant">HOST</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&#39;123&#39;</span><span class="token punctuation">;</span>\n\t\t  <span class="token keyword">set</span> <span class="token function">host</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\t\t    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\t\t      <span class="token operator">...</span>\n\t\t    <span class="token punctuation">}</span>\n\t\t    <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token constant">HOST</span><span class="token punctuation">]</span> <span class="token operator">=</span> url<span class="token punctuation">;</span> <span class="token comment">// âš ï¸ ä¸€å®šè¦åŠ  ä¸­æ‹¬å·</span>\n\t\t  <span class="token punctuation">}</span>\n\t\t  <span class="token keyword">get</span> <span class="token function">host</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\t\t    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token constant">HOST</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\t\t  <span class="token punctuation">}</span>\n\t\t<span class="token punctuation">}</span>\n\t\t<span class="token keyword">let</span> cc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t<span class="token comment">// å­ç±» ä¹Ÿå¯ä»¥ç”¨ Symbol çš„å€¼</span>\n\t\t<span class="token comment">// å­ç±» ä½¿ç”¨äº†super() ä¼šè°ƒç”¨ çˆ¶ç±»çš„ constructor</span>\n\t\t<span class="token comment">// åœ¨ç±»ä»¥åŠå­ç±»ä¸­ æ˜¯å¯ä»¥ä½¿ç”¨çš„ ç»§æ‰¿ä¹‹å ä¸€å®šè¦è°ƒç”¨ super();</span>\n\n\t\t<span class="token comment">// å¦‚æœæƒ³è¦å®šä¹‰ å¤šä¸ªå€¼</span>\n\t\t<span class="token keyword">const</span> protecteds <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\t\t<span class="token keyword">class</span> <span class="token class-name">Common</span> <span class="token punctuation">{</span>\n\t\t  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\t\t    <span class="token keyword">this</span><span class="token punctuation">[</span>protecteds<span class="token punctuation">]</span><span class="token punctuation">.</span>host <span class="token operator">=</span> <span class="token string">&#39;123&#39;</span><span class="token punctuation">;</span>\n\t\t  <span class="token punctuation">}</span>\n\t\t  set<span class="token operator">...</span>\n\t\t    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span>protecteds<span class="token punctuation">]</span><span class="token punctuation">.</span>host <span class="token operator">=</span> <span class="token string">&#39;223&#39;</span><span class="token punctuation">;</span>\n\t\t  get<span class="token operator">...</span>\n\t\t    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span>protecteds<span class="token punctuation">]</span><span class="token punctuation">.</span>host\n\t\t<span class="token punctuation">}</span>\n</code></pre></div><h3 id="ä½¿ç”¨-weakmap-ä¿æŠ¤å±æ€§" tabindex="-1">ä½¿ç”¨ weakMap ä¿æŠ¤å±æ€§ <a class="header-anchor" href="#ä½¿ç”¨-weakmap-ä¿æŠ¤å±æ€§" aria-hidden="true">#</a></h3><ul><li>WeakMap å¯¹è±¡æ˜¯ä¸€ç»„é”®/å€¼å¯¹çš„é›†åˆï¼Œå…¶ä¸­çš„é”®æ˜¯å¼±å¼•ç”¨çš„ã€‚å…¶é”®å¿…é¡»æ˜¯å¯¹è±¡ï¼Œè€Œå€¼å¯ä»¥æ˜¯ä»»æ„çš„ã€‚</li></ul><div class="language-js"><pre><code>  \t<span class="token comment">// https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/WeakMap</span>\n  \t<span class="token comment">// WeakMap å¯¹è±¡æ˜¯ä¸€ç»„é”®/å€¼å¯¹çš„é›†åˆï¼Œå…¶ä¸­çš„é”®æ˜¯å¼±å¼•ç”¨çš„ã€‚å…¶é”®å¿…é¡»æ˜¯å¯¹è±¡ï¼Œè€Œå€¼å¯ä»¥æ˜¯ä»»æ„çš„ã€‚</span>\n  \t<span class="token keyword">const</span> host <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  \t<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  \t<span class="token keyword">class</span> <span class="token class-name">D</span> <span class="token punctuation">{</span>\n  \t  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  \t    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n  \t    host<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&#39;http://www.baidu.com&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// èµ‹ åˆå§‹å€¼</span>\n  \t  <span class="token punctuation">}</span>\n  \t  <span class="token keyword">set</span> <span class="token function">host</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> url<span class="token punctuation">)</span>\n  \t  <span class="token comment">// obj.set(this, { // å¤šä¸ªå€¼</span>\n  \t  <span class="token comment">//   ...obj.get(this),</span>\n  \t  <span class="token comment">//   host: url,</span>\n  \t  <span class="token comment">// })</span>\n  \t  <span class="token keyword">get</span> <span class="token function">host</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  \t    <span class="token keyword">return</span> host<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  \t    <span class="token keyword">return</span> obj<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&#39;host&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  \t  <span class="token punctuation">}</span>\n  \t<span class="token punctuation">}</span>\n  \t<span class="token keyword">let</span> dd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">D</span><span class="token punctuation">(</span><span class="token string">&#39;D&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><h3 id="private-ç§æœ‰å±æ€§ä½¿ç”¨" tabindex="-1">private ç§æœ‰å±æ€§ä½¿ç”¨ <a class="header-anchor" href="#private-ç§æœ‰å±æ€§ä½¿ç”¨" aria-hidden="true">#</a></h3><ul><li>å…¬å…±å±æ€§(public) åœ¨ç±»çš„å†…éƒ¨ å¤–éƒ¨æ˜¯éƒ½å¯ä»¥è®¿é—®çš„ åŒ…æ‹¬å­ç±»</li><li>å—ä¿æŠ¤çš„å±æ€§(protected) å°±æ˜¯ç±»ä»¥åŠå­ç±» å¯ä»¥è®¿é—®çš„ å¤–éƒ¨ä¸å¯ä»¥è®¿é—®</li><li>ç§æœ‰å±æ€§(private) åªå±äºå½“å‰ç±» å­ç±»éƒ½ä¸å¯ä»¥è®¿é—® (åªå±äºè‡ªå·±)</li></ul><div class="language-js"><pre><code>  <span class="token keyword">class</span> <span class="token class-name">E</span> <span class="token punctuation">{</span>\n    #host <span class="token operator">=</span> <span class="token string">&#39;123&#39;</span><span class="token punctuation">;</span> <span class="token comment">// åŠ ä¸ª # å°±æ˜¯è¡¨ç¤ºè¿™ä¸ªæ˜¯ ç§æœ‰å±æ€§</span>\n    <span class="token comment">// å¦‚æœæƒ³è¦ä¿®æ”¹ å°±æ˜¯è®¾ç½®ä¸€ä¸ª get set è®¿é—®å™¨ è¿›è¡Œä¿®æ”¹å’Œè®¿é—®</span>\n    <span class="token comment">// è¿™ä¸¤ç§éƒ½æ˜¯è®¾ç½® ç§æœ‰æ–¹æ³•çš„ æ–¹å¼</span>\n    <span class="token function">#check</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token function-variable function">#check</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// æ–¹æ³•å…¶å®å°±æ˜¯ä¸€ä¸ªå±æ€§ ç„¶åå€¼æ˜¯å‡½æ•° æœ¬è´¨è¿˜æ˜¯å±æ€§</span>\n  <span class="token punctuation">}</span>\n  <span class="token comment">// ç»§æ‰¿é‡Œé¢æ˜¯ä¸å¯ä»¥ è®¾ç½®å’Œè·å–ç§æœ‰å±æ€§çš„</span>\n  `\n</code></pre></div><h2 id="class-å±æ€§ç»§æ‰¿åŸç†" tabindex="-1">class å±æ€§ç»§æ‰¿åŸç† <a class="header-anchor" href="#class-å±æ€§ç»§æ‰¿åŸç†" aria-hidden="true">#</a></h2><div class="language-js"><pre><code><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function">Admin</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token constant">F1</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å±æ€§ç»§æ‰¿</span>\n<span class="token punctuation">}</span>\n<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// åŸæ¥å‡½æ•°çš„ç»§æ‰¿</span>\n<span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// æ–¹æ³•ç»§æ‰¿</span>\n<span class="token comment">// ------- class å½¢å¼ ----------</span>\n<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;123&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;å“ˆå“ˆå“ˆ&#39;</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">Admin</span> <span class="token keyword">extends</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">let</span> admin1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Admin</span><span class="token punctuation">(</span><span class="token string">&#39;æµ‹è¯•&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ­¤å¤„æ‰“å°äº† 123ã€‚ä½¿ç”¨super() å°±æ˜¯è°ƒç”¨äº†çˆ¶ç±»çš„ æ„é€ å‡½æ•°</span>\nadmin1<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å“ˆå“ˆå“ˆ</span>\n<span class="token comment">// æ–¹æ³•æ˜¯æ‰€æœ‰å¯¹è±¡å…±äº«çš„ã€‚å§‹ç»ˆæ˜¯åœ¨åŸå‹å¯¹è±¡ä¸Šçš„ å±æ€§æ˜¯æ¯ä¸ªå¯¹è±¡ç‹¬æœ‰çš„ æ‰€ä»¥ this.å±æ€§ å°±å¯ä»¥äº†</span>\n</code></pre></div><h2 id="super-å…³é”®å­—çš„åŸç†" tabindex="-1"><code>super</code> å…³é”®å­—çš„åŸç† <a class="header-anchor" href="#super-å…³é”®å­—çš„åŸç†" aria-hidden="true">#</a></h2><div class="language-js"><pre><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>\n  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;User show&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">Admin</span> <span class="token keyword">extends</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>\n  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Admin.show&#39;</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\na<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// User show, Admin show</span>\n</code></pre></div><ul><li><code>super</code> å…³é”®å­—è§£å†³äº† å¤šå±‚è°ƒç”¨çš„é—®é¢˜ ä¸Šé¢çš„this è¿˜æ˜¯æ‰“å°çš„ <code>gg</code><code>super</code> ç”¨æ¥ä½œä¸ºåŸå‹æ”€å‡ã€‚ <code>this</code> è¿˜æ˜¯åŸæ¥è°ƒç”¨çš„æ—¶å€™çš„ <code>this</code></li></ul><div class="language-js"><pre><code><span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token punctuation">{</span>\n  name<span class="token operator">:</span> <span class="token string">&#39;g.name&#39;</span><span class="token punctuation">,</span>\n  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">let</span> gg <span class="token operator">=</span> <span class="token punctuation">{</span>\n  __proto__<span class="token operator">:</span> g<span class="token punctuation">,</span>\n  name<span class="token operator">:</span> <span class="token string">&#39;gg.name&#39;</span><span class="token punctuation">,</span>\n  <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// g.name è¿™é‡Œçš„è¯ this.__proto__ è°ƒç”¨æ‰€ä»¥ ä¸Šé¢çš„show thisè¿˜æ˜¯æŒ‡å‘çš„g</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// gg.name è¿™é‡Œå°±æ”¹å˜äº† this ä¹‹å æ‰“å°çš„ ç±»ä¼¼æ˜¯å®ç°äº† superçš„æ“ä½œæœºåˆ¶</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// gg.name</span>\n  <span class="token punctuation">}</span>\n  <span class="token comment">// âš ï¸ è¿™æ ·å†™ super() æ˜¯ä¸è¡Œçš„ å£°æ˜æˆå‡½æ•°æ˜¯ä¸å¯ä»¥çš„</span>\n  <span class="token comment">// say(){} è¿™ä¹Ÿæ˜¯æˆ‘ä»¬åœ¨ç±»ä¸­ è¿™æ ·å†™çš„åŸå› </span>\n  <span class="token function-variable function">say</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\ngg<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n</code></pre></div><ul><li><p>å¦‚æœæ˜¯å¤šé‡ç»§æ‰¿çš„è¯ <code> this.__proto__.show.call(this)</code> è¿™æ · <code>this</code> ä¸€ç›´æŒ‡å‘ <code>gg</code> æ‰€ä»¥ æ­»å¾ªç¯äº†</p><p>å¯ä»¥ä½¿ç”¨ <code>super.show()</code></p></li></ul><h2 id="ä¸ºä»€ä¹ˆå­ç±»-constructor-ä¸­ä¼šæ‰§è¡Œ-super-ï¼›" tabindex="-1">ä¸ºä»€ä¹ˆå­ç±» <code>constructor</code> ä¸­ä¼šæ‰§è¡Œ <code>super</code> ï¼› <a class="header-anchor" href="#ä¸ºä»€ä¹ˆå­ç±»-constructor-ä¸­ä¼šæ‰§è¡Œ-super-ï¼›" aria-hidden="true">#</a></h2><div class="language-js"><pre><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">Admin</span> <span class="token keyword">extends</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// å¦‚æœç»§æ‰¿äº†ä¹‹å ä¸è°ƒç”¨ super å°±ä¼šæŠ¥é”™</span>\n    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token comment">// è¿™é‡Œä¼ é€’å‚æ•°çš„ç”¨æ„å°±æ˜¯ ç»§æ‰¿è¿‡æ¥çš„å±æ€§ åˆå§‹åŒ–</span>\n    <span class="token comment">// å¿…é¡»å†™åœ¨ this ä¹‹å‰å»è°ƒç”¨ super</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">// å› ä¸ºæˆ‘ä»¬ç»§æ‰¿ä¹‹å å­ç±»ä½¿ç”¨çš„åˆè¡·è¿˜æ˜¯ å­ç±»çš„ä¼˜å…ˆçº§ &gt; çˆ¶çº§</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Admin</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><h2 id="super-æ€»ä¹‹å°±æ˜¯åŸå‹é“¾çš„æ”€å‡" tabindex="-1"><code>super</code> æ€»ä¹‹å°±æ˜¯åŸå‹é“¾çš„æ”€å‡ <a class="header-anchor" href="#super-æ€»ä¹‹å°±æ˜¯åŸå‹é“¾çš„æ”€å‡" aria-hidden="true">#</a></h2><div class="language-js"><pre><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>\n  <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;b sum&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">class</span> <span class="token class-name">Admin</span> <span class="token keyword">extends</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å¦‚æœä½¿ç”¨ super åé¢æ²¡æœ‰è·Ÿæ–¹æ³•çš„æ—¶å€™ è°ƒç”¨çˆ¶ç±»çš„ constructor</span>\n  <span class="token punctuation">}</span>\n  <span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è¿™æ ·è°ƒç”¨çš„ this è¿˜æ˜¯æŒ‡å‘ Admin</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\na<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// b sum</span>\n</code></pre></div><h2 id="æ–¹æ³•çš„é‡å†™" tabindex="-1">æ–¹æ³•çš„é‡å†™ <a class="header-anchor" href="#æ–¹æ³•çš„é‡å†™" aria-hidden="true">#</a></h2><ul><li>å°±æ˜¯å­ç±»è°ƒç”¨å­ç±» è‡ªå·±çš„æ–¹æ³• æ¥è¦†ç›–å’Œçˆ¶ç±»é‡åçš„æ–¹æ³•</li><li>æ‰©å±• å­ç±»è°ƒç”¨ çˆ¶ç±»çš„æ–¹æ³• æ¥æ‰©å±•è‡ªå·±çš„æ–¹æ³• å®Œæˆé‡å†™ <code>super.xx()</code></li></ul><h2 id="é™æ€ç»§æ‰¿çš„åŸç†" tabindex="-1">é™æ€ç»§æ‰¿çš„åŸç† <a class="header-anchor" href="#é™æ€ç»§æ‰¿çš„åŸç†" aria-hidden="true">#</a></h2><div class="language-js"><pre><code><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\nUser<span class="token punctuation">.</span>site <span class="token operator">=</span> <span class="token string">&#39;123&#39;</span><span class="token punctuation">;</span>\nUser<span class="token punctuation">.</span><span class="token function-variable function">show</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function">Admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\nAdmin<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> User<span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Admin<span class="token punctuation">.</span>site<span class="token punctuation">)</span> <span class="token comment">// 123</span>\n\n<span class="token comment">// -----------------------</span>\n\n<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>\n  <span class="token keyword">static</span> site <span class="token operator">=</span> <span class="token string">&#39;213&#39;</span>\n  <span class="token keyword">static</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;user show&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">Admin</span> <span class="token keyword">extends</span> <span class="token class-name">User</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\nAdmin<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// user show</span>\n</code></pre></div><ul><li>é™æ€æ–¹æ³•æ˜¯ é€šç”¨ çš„é‡Œé¢ä¸èƒ½æœ‰å¯¹è±¡æ•°æ® å¦‚æœæœ‰å¯¹è±¡æ•°æ® é‚£å°±ä¸é€šç”¨äº†</li></ul><h2 id="ä½¿ç”¨-instanceof-æ£€æµ‹å¯¹è±¡å®ç°-å¯¹è±¡-ä¸-æ„é€ å‡½æ•°" tabindex="-1">ä½¿ç”¨ <code>instanceof</code> æ£€æµ‹å¯¹è±¡å®ç° - å¯¹è±¡ ä¸ æ„é€ å‡½æ•° <a class="header-anchor" href="#ä½¿ç”¨-instanceof-æ£€æµ‹å¯¹è±¡å®ç°-å¯¹è±¡-ä¸-æ„é€ å‡½æ•°" aria-hidden="true">#</a></h2><div class="language-js"><pre><code><span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function">Admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n<span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\na <span class="token keyword">instanceof</span> <span class="token class-name">Admin</span> <span class="token comment">// true</span>\na <span class="token keyword">instanceof</span> <span class="token class-name">User</span> <span class="token comment">// true</span>\n</code></pre></div><ul><li>é€’å½’è°ƒç”¨ å®ç°åŸå‹é“¾ä¹‹é—´çš„åˆ¤æ–­ - å®ç° instanceof</li></ul><div class="language-js"><pre><code>  \t<span class="token keyword">function</span> <span class="token function">checkPrototype</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> cn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  \t  obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>\n  \t  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>obj<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n  \t  <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">===</span> con<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span>\n  \t  <span class="token keyword">return</span> <span class="token function">checkPrototype</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> con<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  \t<span class="token punctuation">}</span>\n  \tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">checkPrototype</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> Admin<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>\n  \tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">checkPrototype</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> User<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>\n\n  \t<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n  \t<span class="token keyword">class</span> <span class="token class-name">Admin</span> <span class="token keyword">extends</span> <span class="token class-name">User</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n  \t<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  \tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token keyword">instanceof</span> <span class="token class-name">User</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n  \tconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token keyword">instanceof</span> <span class="token class-name">Admin</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n</code></pre></div><h2 id="isprototypeof-æ£€æµ‹ç»§æ‰¿å…³ç³»-å¯¹è±¡ä¸å¯¹è±¡çš„å…³ç³»" tabindex="-1">isPrototypeOf æ£€æµ‹ç»§æ‰¿å…³ç³» - å¯¹è±¡ä¸å¯¹è±¡çš„å…³ç³» <a class="header-anchor" href="#isprototypeof-æ£€æµ‹ç»§æ‰¿å…³ç³»-å¯¹è±¡ä¸å¯¹è±¡çš„å…³ç³»" aria-hidden="true">#</a></h2><div class="language-js"><pre><code><span class="token comment">// a.isPrototypeOf(b)  bå¯¹è±¡æ˜¯å¦æ˜¯ç”±aå¯¹è±¡å®ç°çš„</span>\n<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">Admin</span> <span class="token keyword">extends</span> <span class="token class-name">User</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\n<span class="token keyword">let</span> ad <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Admin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Admin</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>ad<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>\n</code></pre></div><h2 id="å†…ç½®ç±»ç»§æ‰¿çš„åŸå‹å®ç°" tabindex="-1">å†…ç½®ç±»ç»§æ‰¿çš„åŸå‹å®ç° <a class="header-anchor" href="#å†…ç½®ç±»ç»§æ‰¿çš„åŸå‹å®ç°" aria-hidden="true">#</a></h2><div class="language-js"><pre><code><span class="token keyword">function</span> <span class="token function">Arr</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  args<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">first</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">max</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> b <span class="token operator">-</span> a<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token class-name">Arr</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Arr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\na<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>\na<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 35</span>\n\n<span class="token comment">// ---------------------- class å½¢å¼ -------------------</span>\n<span class="token comment">// è¿™æ ·å°±æ˜¯å¢å¼ºå†…ç½®ç±» åœ¨åŸæœ‰çš„å†…ç½®ç±»é‡Œé¢å¯ä»¥é‡å†™å’Œå¢åŠ ä¸€äº›æ–°çš„æ–¹æ³•</span>\n<span class="token keyword">class</span> <span class="token class-name">Arr1</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{</span>\n  <span class="token comment">// å¦‚æœæ˜¯è¿™æ ·ç»“æ„çš„è¯ ä¸å†™ constructor ä¹Ÿæ˜¯å¯ä»¥çš„ ä¼šè‡ªåŠ¨ç”Ÿæˆ</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Arr1(4) [1, 2, 3, 35]</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n  <span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> b <span class="token operator">-</span> a<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token function">remove</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">let</span> pos <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">===</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;123&#39;</span><span class="token punctuation">)</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">let</span> a1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Arr1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 31</span>\na1<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&#39;2&#39;</span><span class="token punctuation">)</span>\n<span class="token comment">// a1.push() // é‡å†™äº†</span>\n<span class="token comment">// a1 ä¹Ÿæ˜¯å¯ä»¥ç›´æ¥è°ƒç”¨ æ•°ç»„ å®ƒæ‰€æœ‰çš„æ–¹æ³•çš„</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><h2 id="mixin-æ··åˆæ¨¡å¼ä½¿ç”¨æŠ€å·§" tabindex="-1">mixin æ··åˆæ¨¡å¼ä½¿ç”¨æŠ€å·§ <a class="header-anchor" href="#mixin-æ··åˆæ¨¡å¼ä½¿ç”¨æŠ€å·§" aria-hidden="true">#</a></h2><div class="language-js"><pre><code><span class="token keyword">let</span> Tool <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token function">max</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;å“ˆå“ˆå“ˆ&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">class</span> <span class="token class-name">Lesson</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">lessons</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>lessons <span class="token operator">=</span> lessons<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>\n    name<span class="token operator">:</span> <span class="token string">&#39;js&#39;</span><span class="token punctuation">,</span>\n    price<span class="token operator">:</span> <span class="token number">100</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token punctuation">{</span>\n    name<span class="token operator">:</span> <span class="token string">&#39;node&#39;</span><span class="token punctuation">,</span>\n    price<span class="token operator">:</span> <span class="token number">90</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span>\nObject<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token class-name">Lesson</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> Tool<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> les <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Lesson</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>\nles<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å“ˆå“ˆå“ˆ</span>\n</code></pre></div>',59)];var e=n(o,[["render",function(n,t,p,o,e,u){return a(),s("div",null,c)}]]);export{p as __pageData,e as default};
